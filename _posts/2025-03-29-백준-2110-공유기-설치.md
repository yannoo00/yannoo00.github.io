---
layout: post
title: "백준 2110 공유기 설치"
categories: PS
tags: 이진탐색
---

## 문제 정보
- 문제 링크: [백준 2110 공유기 설치](https://www.acmicpc.net/problem/2110)
- 난이도: <span style="color:#FFA500">골드4</span>
- 완료일: 2023년 7월 30일
- 유형: 이진탐색
- 특이사항: 매개변수탐색 (결정 문제로 바꾸기)

### 내 코드

{% highlight C++ %} {% raw %}
#include <iostream	
#include <vector	
#include <algorithm	

using namespace std;

int n, c, tmp; 
int sum;
vector<int	 v;

int main(void)
{
	v.reserve(200000);
	cin 		 n 		 c; 
	
	for(int i=0; i<n; i++)
	{
		cin 		 tmp;
		v.push_back(tmp);
	}
	
	sort(v.begin(), v.end());
	
	int hi = v[n-1]-v[0];
	int lo = 1;
	int mid;
	int MAX = 1;
	int last = c-2;
	bool TF = true;
	vector<int	::iterator iter = v.begin();
	
	while(lo <= hi)
	{
		mid = (lo+hi)/2;
		TF = true;
		last = c-2;
		iter = v.begin();

		while( last 	 0 )
		{
			iter = lower_bound( v.begin(), v.end(), v[iter-v.begin()] + mid );

			if(iter == v.end())
			{
				TF = false;
				break ;
			}
			else
			{
				last--;
				
			}
		}
		
		if(!TF || *(--v.end()) - *iter < mid )
		{
			hi = mid-1;
		}
		else
		{
			MAX = max(MAX, mid);
			lo = mid+1;
		}
	}
	
	cout << MAX ; 
}

{% endraw %}{% endhighlight %}

관점의 전환이 필요했던 문제.  
C개의 공유기를 설치하면서 가장 인접한 공유기의 거리를 최대화 해야 한다.  
어떤 요인을 이분 탐색으로 찾아야할지 헷갈렸다. 이분탐색을 써야하는 문제라는 것을 알지 못하고 시작했다면 과연 이렇게라도 풀 수 있었을지 모르겠다.  
나는 C개를 설치해야 하므로 C개 설치라는 조건을 이분 탐색에 앞서 맞춰놓고 이분 탐색으로 나머지 조건을 만족시켜야 한다고 생각했었다. 그러다가 도저히 모르겠어서 더 쉽고 비슷한 문제 두 개를 풀고 나자 가닥이 잡혔다.  
일단 가능한 ‘최대 거리’의 범위인 1~(가장 큰 위치 - 가장 작은 위치)를 이분탐색 하며 최대 거리를 정해본다.  
그 최대 거리에 맞게끔 C개를 설치해본다. 설치가 가능하면 통과, 불가능하면 실패.  
이를 반복하며 가장 큰 ‘최대 거리’를 구하면 된다.  
즉 일단 최대 거리를 정해보는 것이다. C를 생각하면서 최대 거리가 어떻게 되야할까 고민하는게 아니라,  
  
**[답을 특정해보고 → 그에 맞춰 C개 시도해보고 → 다시 답을 수정해보며 계속 시도]** ⇒ 이런 흐름으로 가야 했다.

내 코드는 정해진 mid를 가장 인접한 공유기의 최대 거리로 설정한다. 즉 모든 공유기 사이의 거리는 mid 이상이어야 한다. 따라서 vector의 첫 요소보다 mid 이상 큰 값을 찾고 → 다시 그 값보다 mid 이상 큰 값을 찾는 과정을 반복한다.   
이 과정을 C번 성공적으로 했고 마지막으로 선택된 값과 맨 끝 값의 차이도 mid이상이라면 그 mid는 답의 후보다.  
mid가 가능성 있다고 판명되면 lo를 mid+1로 만들어 mid를 키워서 다시 시도하고 / mid가 불가능한 값이라면 mid를 줄여서 시도해야 하니 hi 를 mid-1로 만들어 시도한다.  

  
  

### “매개 변수 탐색”

💡

**매개 변수 만들기( 결정 문제로 바꾸기 )** * 원래 문제: C개의 공유기를 설치했을 때, 최대 인접 거리(D)는 얼마인가?

  * 결정 문제: 어떤 거리 만큼 거리를 둘 때, 공유기 C개를 설치할 수 있는가? Yes/No

문제를 풀면서 필요하다고 느꼈던 관점의 변환은 최적화 문제를 결정 문제로 바꿔서 푸는 알고리즘 풀이 기법 중의 하나였다.  
원래 문제를 그대로 받아들이고 풀려고 하면 내가 처음 겪었던 것처럼 답으로 가기 위해 신경써야 할 요소가 너무 많다고 느껴지고 복잡해진다. (C개 설치 + 최대 인접 거리? ⇒ C개를 설치하는 경우도 여럿, 거기에 최대 인접 거리까지 구해야함)  
하지만 시간복잡도를 잘 고려하여 탐색으로 하나하나 시도해보며 찾을 수 있는 요인의 경우 그것을 결정된 값으로 바라보면서 접근하면 결정 문제처럼 풀 수 있다.   
그냥 결국   
**“****어떤 거리를 찾는 과정****+****그 어떤 거리가 적합한지를 판별하는****” 문제** 로 찢어서 풀게 된다.
