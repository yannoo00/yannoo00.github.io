---
layout: post
title: "ë°±ì¤€ 2638 ì¹˜ì¦ˆ"
categories: PS
tags: DFS/BFS
---

## ë¬¸ì œ ì •ë³´
- ë¬¸ì œ ë§í¬: [ë°±ì¤€ 2638 ì¹˜ì¦ˆ](https://www.acmicpc.net/problem/2638)
- ë‚œì´ë„: <span style="color:#FFA500">ê³¨ë“œ 3</span>
- ì™„ë£Œì¼: 2025ë…„ 1ì›” 29ì¼
- ìœ í˜•: DFS/BFS

### í‹€ë¦° ì½”ë“œ

{% highlight C++ %} {% raw %}
```C++
#include <iostream>
#include <stdio.h>
#include <vector>
#include <string>
#include <cmath>
#include <math.h>
#include <algorithm>
#include <queue>
#include <stack>
#include <iomanip>

using namespace std;

int n, m, temp, cheese, timer;
int arr[100][100];
bool visited[100][100];
int dir[4][2] = {{1, 0}, {0, 1}, {-1, 0}, {0, -1}};

void DFS(int r, int c)
{
	 visited[r][c] = true;

	 for(int i=0; i<4; i++)
	 {
	 int next_r = r + dir[i][0];
	 int next_c = c + dir[i][1];

	 if(next_r < 0 || next_r >= n || next_c < 0 || next_c >= m) continue;
	 if(visited[next_r][next_c]) continue;
	 if(arr[next_r][next_c] == 1) continue;

	 DFS(next_r, next_c);
	 }
}

int main(void)
{   
	 cin >> n >> m;

	 for(int i=0; i<n; i++)
	 {
	 for(int j=0; j<m; j++)
	 {
	 cin >> temp;
	 arr[i][j] = temp;
	 if(temp) cheese++;
	 }
	 }

	 //ëª¨ë“  í…Œë‘ë¦¬ì—ì„œ ì¶œë°œí•˜ëŠ” DFS
	 for(int row = 0; row<n; row++)
	 {
	 if(!visited[row][0])
	 {
	 DFS(row, 0);
	 }

	 if(!visited[row][m-1])
	 {
	 DFS(row, m-1);
	 }
	 }

	 for(int col = 0; col < m; col++)
	 {
	 if(!visited[0][col])
	 {
	 DFS(0, col);
	 }

	 if(!visited[n-1][col])
	 {
	 DFS(n-1, col);
	 }
	 }
	 
	 cout <<"\n";
	 for(int i=0; i<n; i++)
	 {
	 for(int j=0; j<m; j++)
	 {
	 cout << visited[i][j] << " ";
	 }
	 cout << "\n";
	 }
	 

	 // 1ë¡œ í‘œì‹œëœ êµ¬ì—­ ì¤‘ ë‘ ë³€ ì´ìƒì´ 0ì¸ ê²½ìš° 1ì‹œê°„ í›„ 0ìœ¼ë¡œ ë°”ê¿ˆ.

	 while(cheese > 0)
	 {
	 vector<pair<int, int>> melting_list;

	 for(int i=0; i<n; i++)
	 {
	 for(int j=0; j<m; j++)
	 {
	 if(arr[i][j] == 1) //ëª¨ë“  ì¹˜ì¦ˆ êµ¬ì—­ì— ëŒ€í•œ ê²€ì‚¬
	 {
	 int melt_side = 0;
	 for(int k=0; k<4; k++)
	 {
	 int next_r = i+dir[0][k];
	 int next_c = i+dir[1][k];

	 if(next_r < 0 || next_r >= n || next_c < 0 || next_c >= m) continue;
	 
	 if(arr[next_r][next_c] == 0 && visited[next_r][next_c]) melt_side++;

	 if(melt_side >= 2)
	 {
	 //arr[i][j] = 0;
	 melting_list.push_back({i, j});
	 cheese--;
	 break;
	 }
	 }
	 }
	 }
	 }

	 for(int i=0; i<melting_list.size(); i++)
	 {
	 arr[melting_list[i].first][melting_list[i].second] = 0;
	 }
	 timer ++;
	 }

	 cout << timer;
}

```
{% endraw %}{% endhighlight %}

ë¬´í•œë£¨í”„ê°€ ë°œìƒí•˜ëŠ” ì½”ë“œ.

8 9  
0 0 0 0 0 0 0 0 0  
0 0 0 1 1 0 0 0 0  
0 0 0 1 1 0 1 1 0  
0 0 1 1 1 1 1 1 0  
0 0 1 1 1 1 1 0 0  
0 0 1 1 0 1 1 0 0  
0 0 0 0 0 0 0 0 0  
0 0 0 0 0 0 0 0 0  

1 1 1 1 1 1 1 1 1  
1 1 1 0 0 1 1 1 1  
1 1 1 0 0 1 0 0 1  
1 1 0 0 0 0 0 0 1  
1 1 0 0 0 0 0 1 1  
1 1 0 0 1 0 0 1 1  
1 1 1 1 1 1 1 1 1  
1 1 1 1 1 1 1 1 1  

ì´ëŸ° ì¶œë ¥ì„ ë³´ì¸ë‹¤. visitedë°°ì—´ì— ëŒ€í•œ DFSíƒìƒ‰ì€ ì œëŒ€ë¡œ ì´ë¤„ì§€ëŠ” ê²ƒ ê°™ë‹¤.

### ë§ì¶˜ ì½”ë“œ

{% highlight C++ %} {% raw %}
```C++
#include <iostream>
#include <stdio.h>
#include <vector>
#include <string>
#include <cmath>
#include <math.h>
#include <algorithm>
#include <queue>
#include <stack>
#include <iomanip>

using namespace std;

int n, m, temp, cheese, timer;
int arr[100][100];
bool visited[100][100];
int dir[4][2] = {{1, 0}, {0, 1}, {-1, 0}, {0, -1}};

void DFS(int r, int c)
{
	 visited[r][c] = true;

	 for(int i=0; i<4; i++)
	 {
	 int next_r = r + dir[i][0];
	 int next_c = c + dir[i][1];

	 if(next_r < 0 || next_r >= n || next_c < 0 || next_c >= m) continue;
	 if(visited[next_r][next_c]) continue;
	 if(arr[next_r][next_c] == 1) continue;

	 DFS(next_r, next_c);
	 }
}

int main(void)
{   
	 cin >> n >> m;

	 for(int i=0; i<n; i++)
	 {
	 for(int j=0; j<m; j++)
	 {
	 cin >> temp;
	 arr[i][j] = temp;
	 if(temp) cheese++;
	 }
	 }

	 //ëª¨ë“  í…Œë‘ë¦¬ì—ì„œ ì¶œë°œí•˜ëŠ” DFS
	 for(int row = 0; row<n; row++)
	 {
	 if(!visited[row][0])
	 {
	 DFS(row, 0);
	 }

	 if(!visited[row][m-1])
	 {
	 DFS(row, m-1);
	 }
	 }

	 for(int col = 0; col < m; col++)
	 {
	 if(!visited[0][col])
	 {
	 DFS(0, col);
	 }

	 if(!visited[n-1][col])
	 {
	 DFS(n-1, col);
	 }
	 }
	 
// cout <<"\n";
// for(int i=0; i<n; i++)
// {
//     for(int j=0; j<m; j++)
//     {
//         cout << visited[i][j] << " ";
//     }
//     cout << "\n";
// }
	 

	 // 1ë¡œ í‘œì‹œëœ êµ¬ì—­ ì¤‘ ë‘ ë³€ ì´ìƒì´ 0ì¸ ê²½ìš° 1ì‹œê°„ í›„ 0ìœ¼ë¡œ ë°”ê¿ˆ.

	 while(cheese > 0)
	 {
	 vector<pair<int, int>> melting_list;

	 for(int i=0; i<n; i++)
	 {
	 for(int j=0; j<m; j++)
	 {
	 if(arr[i][j] == 1) //ëª¨ë“  ì¹˜ì¦ˆ êµ¬ì—­ì— ëŒ€í•œ ê²€ì‚¬
	 {
	 int melt_side = 0;
	 
	 for(int k=0; k<4; k++) //{i, j} ê¸°ì¤€ ìƒí•˜ì¢Œìš° ë„¤ ë°©í–¥ ê²€ì‚¬
	 {
	 int next_r = i+dir[k][0];
	 int next_c = j+dir[k][1];

	 if(next_r < 0 || next_r >= n || next_c < 0 || next_c >= m) continue;
	 if(arr[next_r][next_c] == 0 && visited[next_r][next_c]) melt_side++;

	 if(melt_side >= 2)
	 {
	 //arr[i][j] = 0;
	 melting_list.push_back({i, j});
	 cheese--;
	 break;
	 }
	 }
	 }
	 }
	 }
	 

	 for(int i=0; i<melting_list.size(); i++)
	 {
	 arr[melting_list[i].first][melting_list[i].second] = 0;
	 visited[melting_list[i].first][melting_list[i].second] = true;
	 DFS(melting_list[i].first, melting_list[i].second);
	 }
	 timer ++;

//cout<<"\n";
// for(int i=0; i<n; i++)
// {
//     for(int j=0; j<m; j++)
//     {
//         cout << arr[i][j] <<" ";
//     }
//     cout<<endl;
// }      

//if(timer>50) break;
	 }

	 cout << timer;
}

```
{% endraw %}{% endhighlight %}

ì¼ë‹¨ dirì„ ë”í•´ì„œ ìƒí•˜ì¢Œìš° ë„¤ ë°©í–¥ì„ í™•ì¸í•˜ê³  ë…¹ì„ì§€ ë§ì§€ ì •í•˜ëŠ” ë¶€ë¶„ì—ì„œ i+dir[i][0] ê¼´ë¡œ ì‘ì„±í•´ì•¼í•˜ëŠ”ë°  
í–‰ê³¼ ì—´ ìˆœì„œë¥¼ ë°”ê¿” dir[0][i]ë¡œ ì‘ì„±í–ˆì—ˆë‹¤.   

ğŸ“œ

ë¬¸ì œëŠ” `dir[0][k]`ë¡œ ì ‘ê·¼í•  ë•Œ kê°€ 2ë‚˜ 3ì¼ ê²½ìš°ì…ë‹ˆë‹¤:

  * ì´ëŠ” ë°°ì—´ì˜ ë²”ìœ„ë¥¼ ë²—ì–´ë‚˜ëŠ” ì ‘ê·¼ì´ì§€ë§Œ,

  * C++ì—ì„œëŠ” ë°°ì—´ì˜ ë²”ìœ„ë¥¼ ìë™ìœ¼ë¡œ ì²´í¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì—

  * ë©”ëª¨ë¦¬ìƒ `dir[1][0]`, `dir[1][1]`ì˜ ê°’ì„ ì½ê²Œ ë©ë‹ˆë‹¤

ì¦‰, `dir[0][k]`ë¡œ ì‘ì„±í•˜ë©´:

  * k=0 â†’ 1

  * k=1 â†’ 0

  * k=2 â†’ 0 (dir[1][0]ì˜ ê°’)

  * k=3 â†’ 1 (dir[1][1]ì˜ ê°’)

ì´ë ‡ê²Œ ì˜ëª»ëœ ê°’ë“¤ì„ ì½ê²Œ ë˜ì–´ í”„ë¡œê·¸ë¨ì´ ì˜ë„í•œ ëŒ€ë¡œ ë™ì‘í•˜ì§€ ì•Šê²Œ ë©ë‹ˆë‹¤. ì»´íŒŒì¼ëŸ¬ëŠ” ì´ë¥¼ ë¬¸ë²•ì  ì˜¤ë¥˜ë¡œ ë³´ì§€ ì•Šê¸° ë•Œë¬¸ì— ì»´íŒŒì¼ ì—ëŸ¬ëŠ” ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

ì´ëŸ° ì´ìœ ë¡œ dir ë°°ì—´ì—ì„œ í–‰ ì—´ì„ ë’¤ì§‘ì–´ ì ‘ê·¼í•´ë„ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì§€ ì•Šì•˜ë‹¤. ë¬´ì„œìš´ ì˜¤ë¥˜ë‹¤ ì¡°ì‹¬í•´ì•¼í•œë‹¤â€¦

ê·¸ë¦¬ê³ , ìƒˆë¡­ê²Œ ì¹˜ì¦ˆê°€ ë…¹ì•„ì„œ ìƒê¸´ ë¹ˆ ì¹¸(arr[][]= 0)ì— ëŒ€í•´ì„œ ë¹ˆì¹¸ ì²˜ë¦¬ë§Œ í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼  
ê·¸ ë¹ˆì¹¸ì„ ì‹œì‘ì ìœ¼ë¡œ DFSíƒìƒ‰ì„ ë‹¤ì‹œ í•´ì¤¬ì–´ì•¼ í•œë‹¤.  
ê·¸ ì¹¸ì´ ë…¹ì•„ì„œ ìƒê¸°ëŠ” ìƒˆë¡œìš´ ë¹ˆ ì¹¸ì´ ìˆê¸° ë•Œë¬¸ì´ë‹¤.   

0 0 0 0 0 0  
0 1 1 1 1 1 0  
0 1 0 1 0 1 0  
0 1 1 1 1 1 0  
0 0 0 0 0 0  

ì´ëŸ° ì…ë ¥ì—ì„œ ë…¹ì€ ì¹¸ì— ëŒ€í•´ ë‹¤ì‹œ ê·¸ë˜í”„ íƒìƒ‰ì„ í•´ì£¼ì§€ ì•Šìœ¼ë©´ ë¬´í•œ ë£¨í”„ê°€ ë°œìƒí•œë‹¤.

ë¬¼ë¡  ê·¸ë˜í”„ íƒìƒ‰ì€ ì™„ì „ íƒìƒ‰ë§Œ í•  ìˆ˜ ìˆìœ¼ë©´ ì–´ë–¤ ë°©ì‹ì´ë“ ì§€ ê´€ê³„ ì—†ë‹¤. 
